(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6383:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ep});var r=a(5155),t=a(2115),l=a(2596),i=a(9688);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,i.QP)((0,l.$)(s))}function c(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:n("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function d(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:n("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function o(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:n("leading-none font-semibold",s),...a})}function x(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:n("text-muted-foreground text-sm",s),...a})}function m(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:n("px-6",s),...a})}var h=a(64);function u(e){let{className:s,...a}=e;return(0,r.jsx)(h.bL,{"data-slot":"tabs",className:n("flex flex-col gap-2",s),...a})}function g(e){let{className:s,...a}=e;return(0,r.jsx)(h.B8,{"data-slot":"tabs-list",className:n("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function j(e){let{className:s,...a}=e;return(0,r.jsx)(h.l9,{"data-slot":"tabs-trigger",className:n("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function v(e){let{className:s,...a}=e;return(0,r.jsx)(h.UC,{"data-slot":"tabs-content",className:n("flex-1 outline-none",s),...a})}var f=a(2085);let y=(0,f.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function p(e){let{className:s,variant:a,...t}=e;return(0,r.jsx)("div",{"data-slot":"alert",role:"alert",className:n(y({variant:a}),s),...t})}function b(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"alert-description",className:n("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...a})}var N=a(9708);let w=(0,f.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function k(e){let{className:s,variant:a,asChild:t=!1,...l}=e,i=t?N.DX:"span";return(0,r.jsx)(i,{"data-slot":"badge",className:n(w({variant:a}),s),...l})}let R=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function S(e){let{className:s,variant:a,size:t,asChild:l=!1,...i}=e,c=l?N.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:n(R({variant:a,size:t,className:s})),...i})}var C=a(6517),A=a(4449),P=a(3904),D=a(6767);function O(e){let{connected:s,deviceInfo:a,onRefresh:l}=e,[i,n]=(0,t.useState)(!1),h=async()=>{n(!0),await l(),setTimeout(()=>n(!1),1e3)};return(0,r.jsxs)(c,{className:"bg-gray-900 border-gray-700",children:[(0,r.jsxs)(d,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[s?(0,r.jsx)(C.A,{className:"h-5 w-5 text-green-500"}):(0,r.jsx)(A.A,{className:"h-5 w-5 text-red-500"}),(0,r.jsx)(o,{className:"text-white",children:"Device Status"})]}),(0,r.jsxs)(S,{variant:"outline",size:"sm",onClick:h,disabled:i,className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[(0,r.jsx)(P.A,{className:"h-4 w-4 mr-2 ".concat(i?"animate-spin":"")}),"Refresh"]})]}),(0,r.jsx)(x,{children:s?"Device connected and ready":"No device detected"})]}),(0,r.jsxs)(m,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Connection:"}),(0,r.jsx)(k,{variant:s?"default":"destructive",children:s?"Connected":"Disconnected"})]}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Model:"}),(0,r.jsx)("span",{className:"text-sm text-white",children:a.model||"Unknown"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Manufacturer:"}),(0,r.jsx)("span",{className:"text-sm text-white",children:a.manufacturer||"Unknown"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Android Version:"}),(0,r.jsx)("span",{className:"text-sm text-white",children:a.version||"Unknown"})]})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Bootloader:"}),(0,r.jsx)(k,{variant:a.bootloaderUnlocked?"default":"secondary",children:a.bootloaderUnlocked?"Unlocked":"Locked"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Root Status:"}),(0,r.jsx)(k,{variant:a.isRooted?"default":"secondary",children:a.isRooted?"Rooted":"Not Rooted"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Recovery:"}),(0,r.jsx)(k,{variant:"custom"===a.recovery?"default":"secondary",children:"custom"===a.recovery?"Custom":"Stock"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"OnePlus Device:"}),(0,r.jsx)(k,{variant:a.isOnePlus?"default":"destructive",children:a.isOnePlus?"Yes":"No"})]})]})})]}),!s&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-400 mb-2",children:[(0,r.jsx)(D.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Connection Tips:"})]}),(0,r.jsxs)("ul",{className:"text-xs text-gray-400 space-y-1",children:[(0,r.jsx)("li",{children:"• Enable USB Debugging in Developer Options"}),(0,r.jsx)("li",{children:"• Use a high-quality USB cable"}),(0,r.jsx)("li",{children:"• Install proper USB drivers for your device"}),(0,r.jsx)("li",{children:"• Try different USB ports"}),(0,r.jsx)("li",{children:"• For fastboot: Hold Volume Down + Power to enter fastboot mode"})]})]})]})]})}var F=a(6981),z=a(5196);function M(e){let{className:s,...a}=e;return(0,r.jsx)(F.bL,{"data-slot":"checkbox",className:n("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,r.jsx)(F.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,r.jsx)(z.A,{className:"size-3.5"})})})}var U=a(1243),B=a(5880),L=a(5525),T=a(1539);function E(e){let{onAccept:s}=e,[a,l]=(0,t.useState)({dataLoss:!1,warranty:!1,brick:!1,responsibility:!1}),i=Object.values(a).every(Boolean),n=e=>{l(s=>({...s,[e]:!s[e]}))};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,r.jsxs)(c,{className:"max-w-4xl w-full bg-gray-900 border-red-500 border-2",children:[(0,r.jsxs)(d,{className:"text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)(U.A,{className:"h-16 w-16 text-red-500"})}),(0,r.jsx)(o,{className:"text-2xl text-red-400",children:"⚠️ CRITICAL SAFETY WARNING ⚠️"}),(0,r.jsx)(x,{className:"text-lg text-gray-300",children:"Please read and understand all warnings before proceeding"})]}),(0,r.jsxs)(m,{className:"space-y-6",children:[(0,r.jsxs)(p,{className:"bg-red-900/20 border-red-500",children:[(0,r.jsx)(U.A,{className:"h-4 w-4"}),(0,r.jsxs)(b,{className:"text-red-300",children:[(0,r.jsx)("strong",{children:"DANGER:"})," This tool can permanently modify your device's firmware. Improper use may result in an unusable device (brick) that cannot be recovered."]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gray-800 rounded-lg",children:[(0,r.jsx)(B.A,{className:"h-6 w-6 text-yellow-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-yellow-400",children:"Data Loss Risk"}),(0,r.jsx)("p",{className:"text-sm text-gray-300",children:"All data on your device will be permanently erased during flashing operations."})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gray-800 rounded-lg",children:[(0,r.jsx)(L.A,{className:"h-6 w-6 text-orange-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-orange-400",children:"Warranty Void"}),(0,r.jsx)("p",{className:"text-sm text-gray-300",children:"Unlocking bootloader and flashing custom firmware will void your warranty."})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gray-800 rounded-lg",children:[(0,r.jsx)(T.A,{className:"h-6 w-6 text-red-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-red-400",children:"Brick Risk"}),(0,r.jsx)("p",{className:"text-sm text-gray-300",children:"Flashing incorrect firmware can permanently damage your device."})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gray-800 rounded-lg",children:[(0,r.jsx)(U.A,{className:"h-6 w-6 text-purple-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-purple-400",children:"Your Responsibility"}),(0,r.jsx)("p",{className:"text-sm text-gray-300",children:"You are solely responsible for any damage to your device."})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Before You Continue:"}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-300",children:[(0,r.jsx)("li",{children:"✓ Ensure your device battery is at least 50% charged"}),(0,r.jsx)("li",{children:"✓ Use a high-quality USB cable and stable USB port"}),(0,r.jsx)("li",{children:"✓ Create a complete backup of your device"}),(0,r.jsx)("li",{children:"✓ Download correct firmware files for your exact device model"}),(0,r.jsx)("li",{children:"✓ Have recovery tools ready (MSM Tool, EDL mode access)"}),(0,r.jsx)("li",{children:"✓ Understand the risks and recovery procedures"})]})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 bg-gray-800 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Required Acknowledgments:"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(M,{id:"dataLoss",checked:a.dataLoss,onCheckedChange:()=>n("dataLoss")}),(0,r.jsx)("label",{htmlFor:"dataLoss",className:"text-sm text-gray-300 cursor-pointer",children:"I understand that all data on my device will be permanently erased"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(M,{id:"warranty",checked:a.warranty,onCheckedChange:()=>n("warranty")}),(0,r.jsx)("label",{htmlFor:"warranty",className:"text-sm text-gray-300 cursor-pointer",children:"I understand that this will void my device warranty"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(M,{id:"brick",checked:a.brick,onCheckedChange:()=>n("brick")}),(0,r.jsx)("label",{htmlFor:"brick",className:"text-sm text-gray-300 cursor-pointer",children:"I understand the risk of permanently damaging my device (bricking)"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(M,{id:"responsibility",checked:a.responsibility,onCheckedChange:()=>n("responsibility")}),(0,r.jsx)("label",{htmlFor:"responsibility",className:"text-sm text-gray-300 cursor-pointer",children:"I accept full responsibility for any damage to my device"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4 pt-4",children:[(0,r.jsx)(S,{variant:"outline",onClick:()=>window.close(),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Cancel & Exit"}),(0,r.jsx)(S,{onClick:s,disabled:!i,className:"".concat(i?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"),children:"I Accept All Risks - Proceed"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 text-center",children:'This tool is provided "as is" without any warranties. Use at your own risk.'})]})]})})}var I=a(5863);function V(e){let{className:s,value:a,...t}=e;return(0,r.jsx)(I.bL,{"data-slot":"progress",className:n("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...t,children:(0,r.jsx)(I.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}var _=a(9869),G=a(646),W=a(1788);function Y(e){let{deviceConnected:s,deviceInfo:a,onLog:l}=e,[i,n]=(0,t.useState)({}),[h,f]=(0,t.useState)(!1),[y,N]=(0,t.useState)(0),[w,R]=(0,t.useState)(""),[C,A]=(0,t.useState)(!1),P=(0,t.useRef)(null),D=(0,t.useRef)(null),O=(0,t.useRef)(null),F=(e,s)=>{s&&(n(a=>({...a,[e]:s})),l("Selected ".concat(e," file: ").concat(s.name)))},z=()=>{let e=[];return!i.recovery||i.recovery.name.toLowerCase().includes("twrp")||i.recovery.name.toLowerCase().includes("recovery")||e.push("Recovery file should be a TWRP or custom recovery image"),i.rom&&([".zip",".img"].some(e=>i.rom.name.toLowerCase().endsWith(e))||e.push("ROM file should be a .zip or .img file")),e},M=async()=>{f(!0),N(0),A(!1);let e=[{name:"Preparing device...",duration:2e3},{name:"Rebooting to fastboot...",duration:3e3},{name:"Flashing recovery...",duration:5e3},{name:"Flashing boot image...",duration:4e3},{name:"Installing ROM...",duration:8e3},{name:"Finalizing installation...",duration:3e3},{name:"Rebooting device...",duration:2e3}],s=0,a=100/e.length;for(let r of e){R(r.name),l(r.name);let e=s,t=s+a,i=a/(r.duration/100),n=e;for(;n<t;)await new Promise(e=>setTimeout(e,100)),N(n=Math.min(n+i,t));s=t}N(100),R("Flashing completed successfully!"),A(!0),f(!1),l("ROM flashing completed successfully!")},B=async()=>{let e=z();return e.length>0?void e.forEach(e=>l("Error: ".concat(e))):s?(null==a?void 0:a.isOnePlus)?void(l("Starting ROM flashing process..."),await M()):void l("Error: Device is not a OnePlus device"):void l("Error: No device connected")};return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(c,{className:"bg-gray-900 border-gray-700",children:[(0,r.jsxs)(d,{children:[(0,r.jsxs)(o,{className:"text-white flex items-center",children:[(0,r.jsx)(T.A,{className:"h-5 w-5 mr-2"}),"ROM Flashing Interface"]}),(0,r.jsx)(x,{children:"Flash custom ROMs, recovery, and boot images to your OnePlus device"})]}),(0,r.jsxs)(m,{children:[!s&&(0,r.jsxs)(p,{className:"mb-4 bg-red-900/20 border-red-500",children:[(0,r.jsx)(U.A,{className:"h-4 w-4"}),(0,r.jsx)(b,{className:"text-red-300",children:"No device connected. Please connect your OnePlus device and enable USB debugging."})]}),s&&!(null==a?void 0:a.isOnePlus)&&(0,r.jsxs)(p,{className:"mb-4 bg-yellow-900/20 border-yellow-500",children:[(0,r.jsx)(U.A,{className:"h-4 w-4"}),(0,r.jsx)(b,{className:"text-yellow-300",children:"Connected device is not a OnePlus device. This tool is specifically designed for OnePlus devices."})]}),(0,r.jsxs)(u,{defaultValue:"files",className:"w-full",children:[(0,r.jsxs)(g,{className:"grid w-full grid-cols-3 bg-gray-800",children:[(0,r.jsx)(j,{value:"files",children:"File Selection"}),(0,r.jsx)(j,{value:"options",children:"Flash Options"}),(0,r.jsx)(j,{value:"progress",children:"Progress"})]}),(0,r.jsx)(v,{value:"files",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsxs)(d,{className:"pb-3",children:[(0,r.jsx)(o,{className:"text-sm text-white",children:"Recovery Image"}),(0,r.jsx)(x,{className:"text-xs",children:"TWRP or custom recovery (.img)"})]}),(0,r.jsxs)(m,{children:[(0,r.jsx)("input",{ref:P,type:"file",accept:".img",className:"hidden",onChange:e=>{var s;return F("recovery",(null==(s=e.target.files)?void 0:s[0])||null)}}),(0,r.jsxs)(S,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>{var e;return null==(e=P.current)?void 0:e.click()},children:[(0,r.jsx)(_.A,{className:"h-4 w-4 mr-2"}),"Select Recovery"]}),i.recovery&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(k,{variant:"outline",className:"text-xs",children:i.recovery.name})})]})]}),(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsxs)(d,{className:"pb-3",children:[(0,r.jsx)(o,{className:"text-sm text-white",children:"ROM Package"}),(0,r.jsx)(x,{className:"text-xs",children:"Custom ROM (.zip)"})]}),(0,r.jsxs)(m,{children:[(0,r.jsx)("input",{ref:D,type:"file",accept:".zip",className:"hidden",onChange:e=>{var s;return F("rom",(null==(s=e.target.files)?void 0:s[0])||null)}}),(0,r.jsxs)(S,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>{var e;return null==(e=D.current)?void 0:e.click()},children:[(0,r.jsx)(_.A,{className:"h-4 w-4 mr-2"}),"Select ROM"]}),i.rom&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(k,{variant:"outline",className:"text-xs",children:i.rom.name})})]})]}),(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsxs)(d,{className:"pb-3",children:[(0,r.jsx)(o,{className:"text-sm text-white",children:"Boot Image"}),(0,r.jsx)(x,{className:"text-xs",children:"Boot/Kernel image (.img)"})]}),(0,r.jsxs)(m,{children:[(0,r.jsx)("input",{ref:O,type:"file",accept:".img",className:"hidden",onChange:e=>{var s;return F("boot",(null==(s=e.target.files)?void 0:s[0])||null)}}),(0,r.jsxs)(S,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>{var e;return null==(e=O.current)?void 0:e.click()},children:[(0,r.jsx)(_.A,{className:"h-4 w-4 mr-2"}),"Select Boot"]}),i.boot&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(k,{variant:"outline",className:"text-xs",children:i.boot.name})})]})]})]})}),(0,r.jsx)(v,{value:"options",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsx)(d,{children:(0,r.jsx)(o,{className:"text-sm text-white",children:"Flash Options"})}),(0,r.jsxs)(m,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Wipe Data"}),(0,r.jsx)(k,{variant:"outline",children:"Recommended"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Wipe Cache"}),(0,r.jsx)(k,{variant:"outline",children:"Enabled"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Flash Recovery"}),(0,r.jsx)(k,{variant:"outline",children:"Auto"})]})]})]}),(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsx)(d,{children:(0,r.jsx)(o,{className:"text-sm text-white",children:"Safety Checks"})}),(0,r.jsxs)(m,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Device Verification"}),(0,r.jsx)(k,{variant:(null==a?void 0:a.isOnePlus)?"default":"destructive",children:(null==a?void 0:a.isOnePlus)?"Passed":"Failed"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Bootloader Status"}),(0,r.jsx)(k,{variant:(null==a?void 0:a.bootloaderUnlocked)?"default":"secondary",children:(null==a?void 0:a.bootloaderUnlocked)?"Unlocked":"Locked"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"File Validation"}),(0,r.jsx)(k,{variant:"outline",children:"Pending"})]})]})]})]})}),(0,r.jsx)(v,{value:"progress",className:"space-y-4",children:(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{className:"text-sm text-white",children:"Flashing Progress"}),(0,r.jsx)(x,{children:h?"Flashing in progress...":"Ready to flash"})]}),(0,r.jsxs)(m,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-300",children:"Progress"}),(0,r.jsxs)("span",{className:"text-gray-300",children:[Math.round(y),"%"]})]}),(0,r.jsx)(V,{value:y,className:"w-full"})]}),w&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[h?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}):C?(0,r.jsx)(G.A,{className:"h-4 w-4 text-green-500"}):null,(0,r.jsx)("span",{className:"text-sm text-gray-300",children:w})]})]})]})})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4 mt-6",children:[(0,r.jsxs)(S,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",disabled:h,children:[(0,r.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Download Tools"]}),(0,r.jsxs)(S,{onClick:B,disabled:!s||h||0===Object.keys(i).length,className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,r.jsx)(T.A,{className:"h-4 w-4 mr-2"}),h?"Flashing...":"Start Flashing"]})]})]})]})})}var K=a(4678),X=a(6474),q=a(7863);function H(e){let{...s}=e;return(0,r.jsx)(K.bL,{"data-slot":"select",...s})}function Q(e){let{...s}=e;return(0,r.jsx)(K.WT,{"data-slot":"select-value",...s})}function J(e){let{className:s,size:a="default",children:t,...l}=e;return(0,r.jsxs)(K.l9,{"data-slot":"select-trigger","data-size":a,className:n("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l,children:[t,(0,r.jsx)(K.In,{asChild:!0,children:(0,r.jsx)(X.A,{className:"size-4 opacity-50"})})]})}function Z(e){let{className:s,children:a,position:t="popper",...l}=e;return(0,r.jsx)(K.ZL,{children:(0,r.jsxs)(K.UC,{"data-slot":"select-content",className:n("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...l,children:[(0,r.jsx)(ee,{}),(0,r.jsx)(K.LM,{className:n("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,r.jsx)(es,{})]})})}function $(e){let{className:s,children:a,...t}=e;return(0,r.jsxs)(K.q7,{"data-slot":"select-item",className:n("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...t,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(K.VF,{children:(0,r.jsx)(z.A,{className:"size-4"})})}),(0,r.jsx)(K.p4,{children:a})]})}function ee(e){let{className:s,...a}=e;return(0,r.jsx)(K.PP,{"data-slot":"select-scroll-up-button",className:n("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(q.A,{className:"size-4"})})}function es(e){let{className:s,...a}=e;return(0,r.jsx)(K.wn,{"data-slot":"select-scroll-down-button",className:n("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(X.A,{className:"size-4"})})}var ea=a(4259),er=a(7924);function et(e){let{deviceConnected:s,deviceInfo:a,onLog:l}=e,[i,n]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[y,N]=(0,t.useState)(!1),[w,R]=(0,t.useState)(0),[C,A]=(0,t.useState)(""),[P,D]=(0,t.useState)(!1),[O,F]=(0,t.useState)([]),[z,M]=(0,t.useState)(!1),B=(0,t.useRef)(null),L={OnePlus6:[{version:"2.20.00.26",region:"Global",size:"45MB",date:"2023-01-15"},{version:"2.20.00.25",region:"Global",size:"45MB",date:"2022-12-10"},{version:"2.20.00.24",region:"India",size:"44MB",date:"2022-11-20"}],OnePlus7Pro:[{version:"2.20.00.28",region:"Global",size:"48MB",date:"2023-02-20"},{version:"2.20.00.27",region:"Global",size:"48MB",date:"2023-01-25"},{version:"2.20.00.26",region:"Europe",size:"47MB",date:"2022-12-15"}],OnePlus8Pro:[{version:"2.20.00.30",region:"Global",size:"52MB",date:"2023-03-10"},{version:"2.20.00.29",region:"Global",size:"52MB",date:"2023-02-15"},{version:"2.20.00.28",region:"T-Mobile",size:"53MB",date:"2023-01-30"}]},E=e=>{e&&(n(e),l("Selected radio firmware file: ".concat(e.name)))},I=async()=>{if(!(null==a?void 0:a.model))return void l("Error: Device model not detected");M(!0),l("Searching for radio firmware for ".concat(a.model,"...")),await new Promise(e=>setTimeout(e,2e3));let e=L[a.model.replace(/\s+/g,"")]||[];F(e),M(!1),e.length>0?l("Found ".concat(e.length," radio firmware versions for ").concat(a.model)):l("No radio firmware found for ".concat(a.model))},Y=async e=>{l("Downloading radio firmware version ".concat(e,"...")),await new Promise(e=>setTimeout(e,3e3)),l("Radio firmware ".concat(e," downloaded successfully"))},K=()=>{let e=[];if(i){let s=i.name.toLowerCase();s.includes("radio")||s.includes("modem")||s.includes("baseband")||e.push("File does not appear to be a radio/modem firmware"),s.endsWith(".img")||s.endsWith(".bin")||e.push("Radio firmware should be a .img or .bin file");let a=i.size/1048576;(a<20||a>100)&&e.push("Unusual file size: ".concat(a.toFixed(1),"MB (expected 40-60MB)"))}return e},X=async()=>{N(!0),R(0),D(!1);let e=[{name:"Preparing device for radio flashing...",duration:2e3},{name:"Rebooting to fastboot mode...",duration:3e3},{name:"Backing up current radio firmware...",duration:4e3},{name:"Verifying radio firmware compatibility...",duration:2e3},{name:"Flashing radio firmware...",duration:8e3},{name:"Verifying radio flash...",duration:3e3},{name:"Rebooting device...",duration:2e3}],s=0,a=100/e.length;for(let r of e){A(r.name),l(r.name);let e=s,t=s+a,i=a/(r.duration/100),n=e;for(;n<t;)await new Promise(e=>setTimeout(e,100)),R(n=Math.min(n+i,t));s=t}R(100),A("Radio firmware flashing completed successfully!"),D(!0),N(!1),l("Radio firmware flashing completed successfully!")},q=async()=>{let e=K();return e.length>0?void e.forEach(e=>l("Error: ".concat(e))):s?(null==a?void 0:a.isOnePlus)?i?void(l("Starting radio firmware flashing process..."),await X()):void l("Error: No radio firmware file selected"):void l("Error: Device is not a OnePlus device"):void l("Error: No device connected")};return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(c,{className:"bg-gray-900 border-gray-700",children:[(0,r.jsxs)(d,{children:[(0,r.jsxs)(o,{className:"text-white flex items-center",children:[(0,r.jsx)(ea.A,{className:"h-5 w-5 mr-2"}),"Radio Firmware Flashing Interface"]}),(0,r.jsx)(x,{children:"Flash baseband/radio firmware to improve signal strength and network compatibility"})]}),(0,r.jsxs)(m,{children:[!s&&(0,r.jsxs)(p,{className:"mb-4 bg-red-900/20 border-red-500",children:[(0,r.jsx)(U.A,{className:"h-4 w-4"}),(0,r.jsx)(b,{className:"text-red-300",children:"No device connected. Please connect your OnePlus device and enable USB debugging."})]}),(0,r.jsxs)(p,{className:"mb-4 bg-yellow-900/20 border-yellow-500",children:[(0,r.jsx)(U.A,{className:"h-4 w-4"}),(0,r.jsxs)(b,{className:"text-yellow-300",children:[(0,r.jsx)("strong",{children:"Warning:"})," Flashing incorrect radio firmware can permanently damage your device's cellular connectivity. Only flash radio firmware specifically designed for your exact device model and region."]})]}),(0,r.jsxs)(u,{defaultValue:"search",className:"w-full",children:[(0,r.jsxs)(g,{className:"grid w-full grid-cols-4 bg-gray-800",children:[(0,r.jsx)(j,{value:"search",children:"Firmware Search"}),(0,r.jsx)(j,{value:"upload",children:"Manual Upload"}),(0,r.jsx)(j,{value:"info",children:"Device Info"}),(0,r.jsx)(j,{value:"progress",children:"Progress"})]}),(0,r.jsx)(v,{value:"search",className:"space-y-4",children:(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{className:"text-sm text-white",children:"Search Radio Firmware"}),(0,r.jsx)(x,{children:"Find compatible radio firmware for your device"})]}),(0,r.jsxs)(m,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(S,{onClick:I,disabled:!(null==a?void 0:a.model)||z,className:"bg-blue-600 hover:bg-blue-700",children:[(0,r.jsx)(er.A,{className:"h-4 w-4 mr-2"}),z?"Searching...":"Search Firmware"]}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)(k,{variant:"outline",className:"text-xs",children:["Target: ",(null==a?void 0:a.model)||"Unknown Device"]})})]}),O.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white",children:"Available Radio Firmware:"}),(0,r.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:O.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(k,{variant:"outline",children:e.version}),(0,r.jsx)(k,{variant:"secondary",children:e.region})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Size: ",e.size," • Date: ",e.date]})]}),(0,r.jsxs)(S,{size:"sm",variant:"outline",onClick:()=>Y(e.version),className:"border-gray-600 text-gray-300 hover:bg-gray-600",children:[(0,r.jsx)(W.A,{className:"h-3 w-3 mr-1"}),"Download"]})]},s))})]})]})]})}),(0,r.jsx)(v,{value:"upload",className:"space-y-4",children:(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{className:"text-sm text-white",children:"Manual Radio Firmware Upload"}),(0,r.jsx)(x,{children:"Upload your own radio firmware file"})]}),(0,r.jsxs)(m,{className:"space-y-4",children:[(0,r.jsx)("input",{ref:B,type:"file",accept:".img,.bin",className:"hidden",onChange:e=>{var s;return E((null==(s=e.target.files)?void 0:s[0])||null)}}),(0,r.jsxs)(S,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>{var e;return null==(e=B.current)?void 0:e.click()},children:[(0,r.jsx)(_.A,{className:"h-4 w-4 mr-2"}),"Select Radio Firmware File"]}),i&&(0,r.jsx)("div",{className:"p-3 bg-gray-700 rounded",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:i.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:["Size: ",(i.size/1048576).toFixed(1)," MB"]})]}),(0,r.jsx)(k,{variant:"outline",children:"Selected"})]})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-300",children:"Baseband Version (Optional)"}),(0,r.jsxs)(H,{value:h,onValueChange:f,children:[(0,r.jsx)(J,{className:"bg-gray-700 border-gray-600",children:(0,r.jsx)(Q,{placeholder:"Select or enter baseband version"})}),(0,r.jsxs)(Z,{children:[(0,r.jsx)($,{value:"2.20.00.30",children:"2.20.00.30"}),(0,r.jsx)($,{value:"2.20.00.29",children:"2.20.00.29"}),(0,r.jsx)($,{value:"2.20.00.28",children:"2.20.00.28"}),(0,r.jsx)($,{value:"2.20.00.27",children:"2.20.00.27"})]})]})]})]})]})}),(0,r.jsx)(v,{value:"info",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsx)(d,{children:(0,r.jsx)(o,{className:"text-sm text-white",children:"Current Radio Info"})}),(0,r.jsxs)(m,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Current Baseband:"}),(0,r.jsx)("span",{className:"text-sm text-white",children:(null==a?void 0:a.radio)||"Unknown"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Device Model:"}),(0,r.jsx)("span",{className:"text-sm text-white",children:(null==a?void 0:a.model)||"Unknown"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Region:"}),(0,r.jsx)("span",{className:"text-sm text-white",children:"Auto-detect"})]})]})]}),(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsx)(d,{children:(0,r.jsx)(o,{className:"text-sm text-white",children:"Flash Status"})}),(0,r.jsxs)(m,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Device Compatible:"}),(0,r.jsx)(k,{variant:(null==a?void 0:a.isOnePlus)?"default":"destructive",children:(null==a?void 0:a.isOnePlus)?"Yes":"No"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Fastboot Ready:"}),(0,r.jsx)(k,{variant:s?"default":"secondary",children:s?"Ready":"Not Ready"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"File Selected:"}),(0,r.jsx)(k,{variant:i?"default":"secondary",children:i?"Yes":"No"})]})]})]})]})}),(0,r.jsx)(v,{value:"progress",className:"space-y-4",children:(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{className:"text-sm text-white",children:"Radio Flashing Progress"}),(0,r.jsx)(x,{children:y?"Radio flashing in progress...":"Ready to flash radio firmware"})]}),(0,r.jsxs)(m,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-300",children:"Progress"}),(0,r.jsxs)("span",{className:"text-gray-300",children:[Math.round(w),"%"]})]}),(0,r.jsx)(V,{value:w,className:"w-full"})]}),C&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[y?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}):P?(0,r.jsx)(G.A,{className:"h-4 w-4 text-green-500"}):null,(0,r.jsx)("span",{className:"text-sm text-gray-300",children:C})]})]})]})})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4 mt-6",children:[(0,r.jsx)(S,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",disabled:y,children:"Backup Current Radio"}),(0,r.jsxs)(S,{onClick:q,disabled:!s||y||!i,className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,r.jsx)(T.A,{className:"h-4 w-4 mr-2"}),y?"Flashing Radio...":"Flash Radio Firmware"]})]})]})]})})}function el(e){let{className:s,type:a,...t}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:n("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...t})}var ei=a(6932),en=a(8564),ec=a(4186),ed=a(3786);function eo(e){let{deviceInfo:s,onLog:a}=e,[l,i]=(0,t.useState)(""),[n,h]=(0,t.useState)("all"),[f,y]=(0,t.useState)("all"),[p,b]=(0,t.useState)([]),[N,w]=(0,t.useState)(!1),[R,C]=(0,t.useState)("date"),A=[{id:"1",name:"OnePlus 8 Pro Radio Firmware",version:"2.20.00.30",type:"radio",size:"52.3 MB",date:"2023-03-15",downloads:15420,rating:4.8,region:"Global",developer:"OnePlus Official",description:"Latest radio firmware for OnePlus 8 Pro with improved 5G connectivity and signal strength.",downloadUrl:"#",verified:!0},{id:"2",name:"LineageOS 20 for OnePlus 8 Pro",version:"20.0-20230315",type:"rom",size:"1.2 GB",date:"2023-03-15",downloads:8750,rating:4.6,region:"Global",developer:"LineageOS Team",description:"Official LineageOS 20 build based on Android 13 for OnePlus 8 Pro.",downloadUrl:"#",verified:!0},{id:"3",name:"TWRP Recovery for OnePlus 8 Pro",version:"3.7.0_11-0",type:"recovery",size:"45.8 MB",date:"2023-03-10",downloads:25630,rating:4.9,region:"Global",developer:"TWRP Team",description:"Official TWRP recovery for OnePlus 8 Pro with full touch support and latest features.",downloadUrl:"#",verified:!0},{id:"4",name:"OnePlus 7 Pro Radio Baseband",version:"2.20.00.28",type:"radio",size:"48.1 MB",date:"2023-02-20",downloads:12340,rating:4.7,region:"Europe",developer:"OnePlus Official",description:"European radio firmware for OnePlus 7 Pro with enhanced LTE Band 20 support.",downloadUrl:"#",verified:!0},{id:"5",name:"Pixel Experience for OnePlus 9",version:"13.0-20230312",type:"rom",size:"1.4 GB",date:"2023-03-12",downloads:6890,rating:4.5,region:"Global",developer:"PixelExperience Team",description:"Pixel Experience ROM based on Android 13 with Google Pixel features.",downloadUrl:"#",verified:!1},{id:"6",name:"ElementalX Kernel OnePlus 8",version:"EX-8.15",type:"kernel",size:"12.5 MB",date:"2023-03-08",downloads:4560,rating:4.4,region:"Global",developer:"flar2",description:"Custom kernel with performance optimizations and battery improvements.",downloadUrl:"#",verified:!1}],P=async()=>{w(!0),a('Searching for firmware: "'.concat(l||"all",'" (').concat(n,")")),await new Promise(e=>setTimeout(e,1500));let e=A;if(null==s?void 0:s.model){let a=s.model.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a))}if(l){let s=l.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.developer.toLowerCase().includes(s))}"all"!==n&&(e=e.filter(e=>e.type===n)),"all"!==f&&(e=e.filter(e=>e.region===f)),e.sort((e,s)=>{switch(R){case"downloads":return s.downloads-e.downloads;case"rating":return s.rating-e.rating;case"name":return e.name.localeCompare(s.name);default:return new Date(s.date).getTime()-new Date(e.date).getTime()}}),b(e),w(!1),a("Found ".concat(e.length," firmware results"))},D=e=>{a("Initiating download: ".concat(e.name," v").concat(e.version))},O=e=>{switch(e){case"radio":return"bg-blue-600";case"rom":return"bg-green-600";case"recovery":return"bg-purple-600";case"kernel":return"bg-orange-600";default:return"bg-gray-600"}},F=e=>{switch(e){case"radio":return"\uD83D\uDCE1";case"rom":return"\uD83D\uDCF1";case"recovery":return"\uD83D\uDD27";case"kernel":return"⚙️";default:return"\uD83D\uDCE6"}};return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(c,{className:"bg-gray-900 border-gray-700",children:[(0,r.jsxs)(d,{children:[(0,r.jsxs)(o,{className:"text-white flex items-center",children:[(0,r.jsx)(er.A,{className:"h-5 w-5 mr-2"}),"Firmware Search & Download"]}),(0,r.jsx)(x,{children:"Search and download compatible firmware for your OnePlus device"})]}),(0,r.jsx)(m,{children:(0,r.jsxs)(u,{defaultValue:"search",className:"w-full",children:[(0,r.jsxs)(g,{className:"grid w-full grid-cols-2 bg-gray-800",children:[(0,r.jsx)(j,{value:"search",children:"Search Firmware"}),(0,r.jsxs)(j,{value:"results",children:["Results (",p.length,")"]})]}),(0,r.jsxs)(v,{value:"search",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-300",children:"Search Query"}),(0,r.jsx)(el,{placeholder:"Enter firmware name or keyword...",value:l,onChange:e=>i(e.target.value),className:"bg-gray-800 border-gray-600 text-white"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-300",children:"Firmware Type"}),(0,r.jsxs)(H,{value:n,onValueChange:h,children:[(0,r.jsx)(J,{className:"bg-gray-800 border-gray-600",children:(0,r.jsx)(Q,{})}),(0,r.jsxs)(Z,{children:[(0,r.jsx)($,{value:"all",children:"All Types"}),(0,r.jsx)($,{value:"radio",children:"\uD83D\uDCE1 Radio/Baseband"}),(0,r.jsx)($,{value:"rom",children:"\uD83D\uDCF1 Custom ROM"}),(0,r.jsx)($,{value:"recovery",children:"\uD83D\uDD27 Recovery"}),(0,r.jsx)($,{value:"kernel",children:"⚙️ Kernel"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-300",children:"Region"}),(0,r.jsxs)(H,{value:f,onValueChange:y,children:[(0,r.jsx)(J,{className:"bg-gray-800 border-gray-600",children:(0,r.jsx)(Q,{})}),(0,r.jsxs)(Z,{children:[(0,r.jsx)($,{value:"all",children:"All Regions"}),(0,r.jsx)($,{value:"Global",children:"Global"}),(0,r.jsx)($,{value:"Europe",children:"Europe"}),(0,r.jsx)($,{value:"India",children:"India"}),(0,r.jsx)($,{value:"China",children:"China"}),(0,r.jsx)($,{value:"T-Mobile",children:"T-Mobile"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-300",children:"Sort By"}),(0,r.jsxs)(H,{value:R,onValueChange:C,children:[(0,r.jsx)(J,{className:"bg-gray-800 border-gray-600",children:(0,r.jsx)(Q,{})}),(0,r.jsxs)(Z,{children:[(0,r.jsx)($,{value:"date",children:"\uD83D\uDCC5 Date"}),(0,r.jsx)($,{value:"downloads",children:"\uD83D\uDCCA Downloads"}),(0,r.jsx)($,{value:"rating",children:"⭐ Rating"}),(0,r.jsx)($,{value:"name",children:"\uD83D\uDD24 Name"})]})]})]})]}),s&&(0,r.jsxs)("div",{className:"p-4 bg-gray-800 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white mb-2",children:"Device Information:"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Model:"}),(0,r.jsx)("span",{className:"text-white ml-1",children:s.model||"Unknown"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Current Radio:"}),(0,r.jsx)("span",{className:"text-white ml-1",children:s.radio||"Unknown"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Android:"}),(0,r.jsx)("span",{className:"text-white ml-1",children:s.version||"Unknown"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"OnePlus:"}),(0,r.jsx)(k,{variant:s.isOnePlus?"default":"destructive",className:"text-xs",children:s.isOnePlus?"Yes":"No"})]})]})]}),(0,r.jsxs)(S,{onClick:P,disabled:N,className:"w-full bg-blue-600 hover:bg-blue-700",children:[(0,r.jsx)(er.A,{className:"h-4 w-4 mr-2"}),N?"Searching...":"Search Firmware"]})]}),(0,r.jsx)(v,{value:"results",className:"space-y-4",children:0===p.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(er.A,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-400",children:"No firmware found. Try adjusting your search criteria."})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["Found ",p.length," firmware results"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(ei.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:["Sorted by ",R]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4 max-h-96 overflow-y-auto",children:p.map(e=>(0,r.jsx)(c,{className:"bg-gray-800 border-gray-600",children:(0,r.jsx)(m,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("span",{className:"text-lg",children:F(e.type)}),(0,r.jsx)("h3",{className:"font-medium text-white",children:e.name}),e.verified&&(0,r.jsx)(k,{variant:"default",className:"text-xs bg-green-600",children:"✓ Verified"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,r.jsx)(k,{className:"text-xs ".concat(O(e.type)),children:e.type.toUpperCase()}),(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:["v",e.version]}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:e.size}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:e.region})]}),(0,r.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-400",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(en.A,{className:"h-3 w-3 mr-1 text-yellow-500"}),e.rating]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(W.A,{className:"h-3 w-3 mr-1"}),e.downloads.toLocaleString()]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(ec.A,{className:"h-3 w-3 mr-1"}),e.date]}),(0,r.jsxs)("span",{children:["by ",e.developer]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,r.jsxs)(S,{size:"sm",onClick:()=>D(e),className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(W.A,{className:"h-3 w-3 mr-1"}),"Download"]}),(0,r.jsxs)(S,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[(0,r.jsx)(ed.A,{className:"h-3 w-3 mr-1"}),"Details"]})]})]})})},e.id))})]})})]})})]})})}var ex=a(381),em=a(2525);function eh(e){let{deviceConnected:s,deviceInfo:a,onLog:l}=e,[i,n]=(0,t.useState)("magisk"),[h,f]=(0,t.useState)(!1),[y,N]=(0,t.useState)(0),[w,R]=(0,t.useState)(""),[C,A]=(0,t.useState)(!1),[P,D]=(0,t.useState)("unknown"),O=[{id:"magisk",name:"Magisk",version:"26.4",description:"Modern systemless root solution with module support",recommended:!0,features:["Systemless","SafetyNet bypass","Module support","Hide root"]},{id:"supersu",name:"SuperSU",version:"2.82",description:"Traditional root solution (legacy)",recommended:!1,features:["Traditional root","App permissions","Legacy support"]},{id:"ksu",name:"KernelSU",version:"0.7.2",description:"Kernel-based root solution",recommended:!1,features:["Kernel-based","High security","Module support"]}],F=async()=>{l("Checking root status..."),await new Promise(e=>setTimeout(e,2e3));let e=(null==a?void 0:a.isRooted)||!1;D(e?"rooted":"unrooted"),l("Root status: ".concat(e?"Device is rooted":"Device is not rooted"))},z=async e=>{l("Downloading ".concat(e,"...")),await new Promise(e=>setTimeout(e,3e3)),l("".concat(e," downloaded successfully"))},M=async()=>{f(!0),N(0),A(!1);let e=[{name:"Preparing device for rooting...",duration:2e3},{name:"Checking bootloader status...",duration:1500},{name:"Downloading root package...",duration:4e3},{name:"Patching boot image...",duration:5e3},{name:"Flashing patched boot...",duration:6e3},{name:"Installing root manager...",duration:3e3},{name:"Configuring root access...",duration:2e3},{name:"Verifying root installation...",duration:2500}],s=0,a=100/e.length;for(let r of e){R(r.name),l(r.name);let e=s,t=s+a,i=a/(r.duration/100),n=e;for(;n<t;)await new Promise(e=>setTimeout(e,100)),N(n=Math.min(n+i,t));s=t}N(100),R("Rooting completed successfully!"),A(!0),f(!1),D("rooted"),l("Device rooting completed successfully!")},B=async()=>s?(null==a?void 0:a.isOnePlus)?void(!(null==a?void 0:a.bootloaderUnlocked)&&l("Warning: Bootloader should be unlocked for rooting"),l("Starting rooting process with ".concat(i,"...")),await M()):void l("Error: Device is not a OnePlus device"):void l("Error: No device connected"),E=async()=>{l("Starting unroot process..."),f(!0),N(0);let e=[{name:"Preparing to remove root...",duration:2e3},{name:"Removing root binaries...",duration:3e3},{name:"Restoring original boot image...",duration:4e3},{name:"Cleaning up root traces...",duration:2e3},{name:"Verifying unroot...",duration:1500}],s=0,a=100/e.length;for(let r of e){R(r.name),l(r.name);let e=s,t=s+a,i=a/(r.duration/100),n=e;for(;n<t;)await new Promise(e=>setTimeout(e,100)),N(n=Math.min(n+i,t));s=t}N(100),R("Device unrooted successfully!"),f(!1),D("unrooted"),l("Device unrooted successfully!")},I=O.find(e=>e.id===i);return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(c,{className:"bg-gray-900 border-gray-700",children:[(0,r.jsxs)(d,{children:[(0,r.jsxs)(o,{className:"text-white flex items-center",children:[(0,r.jsx)(L.A,{className:"h-5 w-5 mr-2"}),"Device Rooting Interface"]}),(0,r.jsx)(x,{children:"Gain administrative access to your OnePlus device"})]}),(0,r.jsxs)(m,{children:[!s&&(0,r.jsxs)(p,{className:"mb-4 bg-red-900/20 border-red-500",children:[(0,r.jsx)(U.A,{className:"h-4 w-4"}),(0,r.jsx)(b,{className:"text-red-300",children:"No device connected. Please connect your OnePlus device and enable USB debugging."})]}),(0,r.jsxs)(p,{className:"mb-4 bg-yellow-900/20 border-yellow-500",children:[(0,r.jsx)(U.A,{className:"h-4 w-4"}),(0,r.jsxs)(b,{className:"text-yellow-300",children:[(0,r.jsx)("strong",{children:"Warning:"})," Rooting your device will void your warranty and may cause security risks. Some banking and payment apps may not work on rooted devices."]})]}),(0,r.jsxs)(u,{defaultValue:"status",className:"w-full",children:[(0,r.jsxs)(g,{className:"grid w-full grid-cols-4 bg-gray-800",children:[(0,r.jsx)(j,{value:"status",children:"Root Status"}),(0,r.jsx)(j,{value:"methods",children:"Root Methods"}),(0,r.jsx)(j,{value:"tools",children:"Root Tools"}),(0,r.jsx)(j,{value:"progress",children:"Progress"})]}),(0,r.jsxs)(v,{value:"status",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsx)(d,{children:(0,r.jsx)(o,{className:"text-sm text-white",children:"Current Root Status"})}),(0,r.jsxs)(m,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Root Access:"}),(0,r.jsx)(k,{variant:"rooted"===P?"default":"unrooted"===P?"secondary":"outline",children:"rooted"===P?"Rooted":"unrooted"===P?"Not Rooted":"Unknown"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Root Method:"}),(0,r.jsx)("span",{className:"text-sm text-white",children:"rooted"===P?"Magisk":"None"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"SafetyNet:"}),(0,r.jsx)(k,{variant:"rooted"===P?"destructive":"default",children:"rooted"===P?"Failed":"Passed"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Bootloader:"}),(0,r.jsx)(k,{variant:(null==a?void 0:a.bootloaderUnlocked)?"default":"secondary",children:(null==a?void 0:a.bootloaderUnlocked)?"Unlocked":"Locked"})]})]})]}),(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsx)(d,{children:(0,r.jsx)(o,{className:"text-sm text-white",children:"Quick Actions"})}),(0,r.jsxs)(m,{className:"space-y-2",children:[(0,r.jsxs)(S,{onClick:F,variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",disabled:!s,children:[(0,r.jsx)(ex.A,{className:"h-4 w-4 mr-2"}),"Check Root Status"]}),"rooted"===P&&(0,r.jsxs)(S,{onClick:E,variant:"outline",className:"w-full border-red-600 text-red-300 hover:bg-red-900/20",disabled:h,children:[(0,r.jsx)(em.A,{className:"h-4 w-4 mr-2"}),"Unroot Device"]})]})]})]}),"rooted"===P&&(0,r.jsxs)(p,{className:"bg-green-900/20 border-green-500",children:[(0,r.jsx)(G.A,{className:"h-4 w-4"}),(0,r.jsxs)(b,{className:"text-green-300",children:[(0,r.jsx)("strong",{children:"Success:"})," Your device is rooted and ready to use. You can now install root-only apps and modify system files."]})]})]}),(0,r.jsxs)(v,{value:"methods",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsx)("label",{className:"text-sm text-gray-300",children:"Select Root Method:"}),(0,r.jsxs)(H,{value:i,onValueChange:n,children:[(0,r.jsx)(J,{className:"bg-gray-800 border-gray-600",children:(0,r.jsx)(Q,{})}),(0,r.jsx)(Z,{children:O.map(e=>(0,r.jsxs)($,{value:e.id,children:[e.name," v",e.version," ",e.recommended&&"(Recommended)"]},e.id))})]})]}),I&&(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsxs)(d,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(o,{className:"text-sm text-white",children:[I.name," v",I.version]}),I.recommended&&(0,r.jsx)(k,{variant:"default",className:"bg-green-600",children:"Recommended"})]}),(0,r.jsx)(x,{children:I.description})]}),(0,r.jsx)(m,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white mb-2",children:"Features:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:I.features.map((e,s)=>(0,r.jsx)(k,{variant:"outline",className:"text-xs",children:e},s))})]}),(0,r.jsx)("div",{className:"pt-2",children:(0,r.jsxs)(S,{onClick:()=>z(I.name),variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[(0,r.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Download ",I.name]})})]})})]})]}),(0,r.jsx)(v,{value:"tools",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsx)(d,{children:(0,r.jsx)(o,{className:"text-sm text-white",children:"Root Management Apps"})}),(0,r.jsxs)(m,{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-700 rounded",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:"Magisk Manager"}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Root permission manager"})]}),(0,r.jsxs)(S,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300",children:[(0,r.jsx)(W.A,{className:"h-3 w-3 mr-1"}),"Get"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-700 rounded",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:"Root Checker"}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Verify root access"})]}),(0,r.jsxs)(S,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300",children:[(0,r.jsx)(W.A,{className:"h-3 w-3 mr-1"}),"Get"]})]})]})]}),(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsx)(d,{children:(0,r.jsx)(o,{className:"text-sm text-white",children:"Useful Root Apps"})}),(0,r.jsxs)(m,{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-700 rounded",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:"Titanium Backup"}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"App backup & restore"})]}),(0,r.jsxs)(S,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300",children:[(0,r.jsx)(W.A,{className:"h-3 w-3 mr-1"}),"Get"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-700 rounded",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:"AdAway"}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"System-wide ad blocker"})]}),(0,r.jsxs)(S,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300",children:[(0,r.jsx)(W.A,{className:"h-3 w-3 mr-1"}),"Get"]})]})]})]})]})}),(0,r.jsx)(v,{value:"progress",className:"space-y-4",children:(0,r.jsxs)(c,{className:"bg-gray-800 border-gray-600",children:[(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{className:"text-sm text-white",children:"Rooting Progress"}),(0,r.jsx)(x,{children:h?"Rooting in progress...":"Ready to root device"})]}),(0,r.jsxs)(m,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-300",children:"Progress"}),(0,r.jsxs)("span",{className:"text-gray-300",children:[Math.round(y),"%"]})]}),(0,r.jsx)(V,{value:y,className:"w-full"})]}),w&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[h?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}):C?(0,r.jsx)(G.A,{className:"h-4 w-4 text-green-500"}):null,(0,r.jsx)("span",{className:"text-sm text-gray-300",children:w})]})]})]})})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4 mt-6",children:[(0,r.jsxs)(S,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",disabled:h,onClick:()=>z("ADB Tools"),children:[(0,r.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Download Tools"]}),(0,r.jsxs)(S,{onClick:B,disabled:!s||h||"rooted"===P,className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,r.jsx)(T.A,{className:"h-4 w-4 mr-2"}),h?"Rooting...":"rooted"===P?"Already Rooted":"Start Rooting"]})]})]})]})})}var eu=a(7655);function eg(e){let{className:s,children:a,...t}=e;return(0,r.jsxs)(eu.bL,{"data-slot":"scroll-area",className:n("relative",s),...t,children:[(0,r.jsx)(eu.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,r.jsx)(ej,{}),(0,r.jsx)(eu.OK,{})]})}function ej(e){let{className:s,orientation:a="vertical",...t}=e;return(0,r.jsx)(eu.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:n("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",s),...t,children:(0,r.jsx)(eu.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var ev=a(7434),ef=a(4357);function ey(e){let{logs:s,onClear:a}=e,[l,i]=(0,t.useState)(""),[n,h]=(0,t.useState)("all"),[u,g]=(0,t.useState)(!0),j=(0,t.useRef)(null),v=(0,t.useRef)(null);(0,t.useEffect)(()=>{u&&v.current&&v.current.scrollIntoView({behavior:"smooth"})},[s,u]);let f=e=>e.includes("Error:")?"error":e.includes("Warning:")?"warning":e.includes("Success:")||e.includes("completed successfully")?"success":e.includes("Starting")||e.includes("Preparing")?"info":"debug",y=e=>{switch(e){case"error":return"text-red-400";case"warning":return"text-yellow-400";case"success":return"text-green-400";case"info":return"text-blue-400";default:return"text-gray-300"}},p=e=>{switch(e){case"error":return"bg-red-600";case"warning":return"bg-yellow-600";case"success":return"bg-green-600";case"info":return"bg-blue-600";default:return"bg-gray-600"}},b=s.filter(e=>{let s=""===l||e.toLowerCase().includes(l.toLowerCase()),a="all"===n||f(e)===n;return s&&a}),N={total:s.length,errors:s.filter(e=>"error"===f(e)).length,warnings:s.filter(e=>"warning"===f(e)).length,success:s.filter(e=>"success"===f(e)).length,info:s.filter(e=>"info"===f(e)).length};return(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)(c,{className:"bg-gray-900 border-gray-700",children:[(0,r.jsx)(d,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(o,{className:"text-white flex items-center",children:[(0,r.jsx)(ev.A,{className:"h-5 w-5 mr-2"}),"Operation Logs"]}),(0,r.jsx)(x,{children:"View detailed logs of all operations and system messages"})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)(k,{variant:"outline",className:"text-xs",children:[b.length," / ",s.length," entries"]})})]})}),(0,r.jsxs)(m,{children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(er.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)(el,{placeholder:"Search logs...",value:l,onChange:e=>i(e.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white"})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(ei.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsxs)(H,{value:n,onValueChange:h,children:[(0,r.jsx)(J,{className:"w-32 bg-gray-800 border-gray-600",children:(0,r.jsx)(Q,{})}),(0,r.jsxs)(Z,{children:[(0,r.jsx)($,{value:"all",children:"All Levels"}),(0,r.jsx)($,{value:"error",children:"\uD83D\uDD34 Errors"}),(0,r.jsx)($,{value:"warning",children:"\uD83D\uDFE1 Warnings"}),(0,r.jsx)($,{value:"success",children:"\uD83D\uDFE2 Success"}),(0,r.jsx)($,{value:"info",children:"\uD83D\uDD35 Info"}),(0,r.jsx)($,{value:"debug",children:"⚪ Debug"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(S,{size:"sm",variant:"outline",onClick:()=>{let e=b.join("\n");navigator.clipboard.writeText(e).then(()=>{console.log("Logs copied to clipboard")})},className:"border-gray-600 text-gray-300 hover:bg-gray-800",disabled:0===b.length,children:[(0,r.jsx)(ef.A,{className:"h-3 w-3 mr-1"}),"Copy"]}),(0,r.jsxs)(S,{size:"sm",variant:"outline",onClick:()=>{let e=new Blob([b.join("\n")],{type:"text/plain"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="oneplus-flasher-logs-".concat(new Date().toISOString().split("T")[0],".txt"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)},className:"border-gray-600 text-gray-300 hover:bg-gray-800",disabled:0===b.length,children:[(0,r.jsx)(W.A,{className:"h-3 w-3 mr-1"}),"Export"]}),(0,r.jsxs)(S,{size:"sm",variant:"outline",onClick:a,className:"border-red-600 text-red-300 hover:bg-red-900/20",disabled:0===s.length,children:[(0,r.jsx)(em.A,{className:"h-3 w-3 mr-1"}),"Clear"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 mb-4",children:[(0,r.jsxs)("div",{className:"text-center p-2 bg-gray-800 rounded",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-white",children:N.total}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Total"})]}),(0,r.jsxs)("div",{className:"text-center p-2 bg-gray-800 rounded",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-red-400",children:N.errors}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Errors"})]}),(0,r.jsxs)("div",{className:"text-center p-2 bg-gray-800 rounded",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:N.warnings}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Warnings"})]}),(0,r.jsxs)("div",{className:"text-center p-2 bg-gray-800 rounded",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-green-400",children:N.success}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Success"})]}),(0,r.jsxs)("div",{className:"text-center p-2 bg-gray-800 rounded",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-blue-400",children:N.info}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Info"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"autoScroll",checked:u,onChange:e=>g(e.target.checked),className:"rounded border-gray-600 bg-gray-800"}),(0,r.jsx)("label",{htmlFor:"autoScroll",className:"text-sm text-gray-300",children:"Auto-scroll to bottom"})]}),l&&(0,r.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",b.length,' results for "',l,'"']})]}),(0,r.jsx)(c,{className:"bg-gray-800 border-gray-600",children:(0,r.jsx)(m,{className:"p-0",children:(0,r.jsx)(eg,{className:"h-96 w-full",ref:j,children:(0,r.jsxs)("div",{className:"p-4 space-y-1",children:[0===b.length?(0,r.jsx)("div",{className:"text-center py-8 text-gray-400",children:0===s.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ev.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"No logs yet. Operations will appear here."})]}):(0,r.jsx)("p",{children:"No logs match your current filters."})}):b.map((e,s)=>{let a=f(e),t=y(a),l=p(a);return(0,r.jsxs)("div",{className:"flex items-start space-x-2 py-1 px-2 hover:bg-gray-700/50 rounded text-sm font-mono",children:[(0,r.jsx)(k,{className:"text-xs px-1 py-0 ".concat(l," min-w-[60px] text-center"),children:a.toUpperCase()}),(0,r.jsx)("span",{className:"flex-1 ".concat(t),children:e})]},s)}),(0,r.jsx)("div",{ref:v})]})})})}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-4 text-xs text-gray-400",children:[(0,r.jsxs)("div",{children:["Last updated: ",s.length>0?"Just now":"Never"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{children:["Scroll position: ",u?"Bottom":"Manual"]}),(0,r.jsxs)("span",{children:["Filter: ","all"===n?"All levels":n]})]})]})]})]})})}function ep(){let[e,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(null),[i,n]=(0,t.useState)([]),[h,f]=(0,t.useState)(!1),y=e=>{let s=new Date().toLocaleTimeString();n(a=>[...a,"[".concat(s,"] ").concat(e)])};(0,t.useEffect)(()=>{N()},[]);let N=async()=>{try{var e;let a=await fetch("/api/device/detect"),r=await a.json();s(r.connected),l(r.device),y(r.connected?"Device detected: ".concat(null==(e=r.device)?void 0:e.model):"No device connected")}catch(e){y("Error checking device connection")}};return h?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(O,{connected:e,deviceInfo:a,onRefresh:N}),(0,r.jsxs)(u,{defaultValue:"overview",className:"w-full",children:[(0,r.jsxs)(g,{className:"grid w-full grid-cols-6 bg-gray-800",children:[(0,r.jsx)(j,{value:"overview",children:"Overview"}),(0,r.jsx)(j,{value:"rom",children:"ROM Flash"}),(0,r.jsx)(j,{value:"radio",children:"Radio Flash"}),(0,r.jsx)(j,{value:"firmware",children:"Firmware Search"}),(0,r.jsx)(j,{value:"root",children:"Root"}),(0,r.jsx)(j,{value:"logs",children:"Logs"})]}),(0,r.jsxs)(v,{value:"overview",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)(c,{className:"bg-gray-900 border-gray-700",children:[(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{className:"text-white",children:"System Status"}),(0,r.jsx)(x,{children:"Current system information"})]}),(0,r.jsx)(m,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"ADB Status:"}),(0,r.jsx)(k,{variant:e?"default":"destructive",children:e?"Connected":"Disconnected"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Fastboot:"}),(0,r.jsx)(k,{variant:"outline",children:"Ready"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Tools:"}),(0,r.jsx)(k,{variant:"outline",children:"Installed"})]})]})})]}),(0,r.jsxs)(c,{className:"bg-gray-900 border-gray-700",children:[(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{className:"text-white",children:"Device Info"}),(0,r.jsx)(x,{children:"Connected device details"})]}),(0,r.jsx)(m,{children:a?(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Model:"})," ",a.model||"Unknown"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Bootloader:"})," ",a.bootloader||"Unknown"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Root:"})," ",a.root?"Yes":"No"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Recovery:"})," ",a.recovery||"Stock"]})]}):(0,r.jsx)("p",{className:"text-gray-400",children:"No device connected"})})]}),(0,r.jsxs)(c,{className:"bg-gray-900 border-gray-700",children:[(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{className:"text-white",children:"Quick Actions"}),(0,r.jsx)(x,{children:"Common operations"})]}),(0,r.jsx)(m,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("button",{className:"w-full p-2 bg-blue-600 hover:bg-blue-700 rounded text-sm",onClick:N,children:"Refresh Device"}),(0,r.jsx)("button",{className:"w-full p-2 bg-green-600 hover:bg-green-700 rounded text-sm",disabled:!e,children:"Backup Device"}),(0,r.jsx)("button",{className:"w-full p-2 bg-yellow-600 hover:bg-yellow-700 rounded text-sm",disabled:!e,children:"Reboot to Fastboot"})]})})]})]}),(0,r.jsx)(p,{className:"bg-gray-900 border-gray-700",children:(0,r.jsxs)(b,{className:"text-gray-300",children:[(0,r.jsx)("strong",{children:"Important:"})," Always ensure your device is properly backed up before performing any flashing operations. This tool can permanently modify your device and void your warranty."]})})]}),(0,r.jsx)(v,{value:"rom",children:(0,r.jsx)(Y,{deviceConnected:e,deviceInfo:a,onLog:y})}),(0,r.jsx)(v,{value:"radio",children:(0,r.jsx)(et,{deviceConnected:e,deviceInfo:a,onLog:y})}),(0,r.jsx)(v,{value:"firmware",children:(0,r.jsx)(eo,{deviceInfo:a,onLog:y})}),(0,r.jsx)(v,{value:"root",children:(0,r.jsx)(eh,{deviceConnected:e,deviceInfo:a,onLog:y})}),(0,r.jsx)(v,{value:"logs",children:(0,r.jsx)(ey,{logs:i,onClear:()=>n([])})})]})]}):(0,r.jsx)(E,{onAccept:()=>f(!0)})}},9766:(e,s,a)=>{Promise.resolve().then(a.bind(a,6383))}},e=>{var s=s=>e(e.s=s);e.O(0,[579,441,684,358],()=>s(9766)),_N_E=e.O()}]);